FROM ubuntu:latest

RUN apt update

# Install docker
RUN apt install -y ca-certificates curl
RUN install -m 0755 -d /etc/apt/keyrings
RUN curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc
RUN chmod a+r /etc/apt/keyrings/docker.asc
RUN echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \
  $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | \
  tee /etc/apt/sources.list.d/docker.list > /dev/null
RUN apt update
RUN apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

COPY entrypoint.sh .

EXPOSE 8000
EXPOSE 9000
EXPOSE 9443

EXPOSE 10000
EXPOSE 10001
EXPOSE 10002
EXPOSE 10003
EXPOSE 10004
EXPOSE 10005
EXPOSE 10006
EXPOSE 10007
EXPOSE 10008
EXPOSE 10009
EXPOSE 10010
EXPOSE 10011
EXPOSE 10012
EXPOSE 10013
EXPOSE 10014
EXPOSE 10015
EXPOSE 10016
EXPOSE 10017
EXPOSE 10018
EXPOSE 10019
EXPOSE 10020
EXPOSE 10021
EXPOSE 10022
EXPOSE 10023
EXPOSE 10024
EXPOSE 10025
EXPOSE 10026
EXPOSE 10027
EXPOSE 10028
EXPOSE 10029
EXPOSE 10030
EXPOSE 10031
EXPOSE 10032
EXPOSE 10033
EXPOSE 10034
EXPOSE 10035
EXPOSE 10036
EXPOSE 10037
EXPOSE 10038
EXPOSE 10039
EXPOSE 10040
EXPOSE 10041
EXPOSE 10042
EXPOSE 10043
EXPOSE 10044
EXPOSE 10045
EXPOSE 10046
EXPOSE 10047
EXPOSE 10048
EXPOSE 10049
EXPOSE 10050
EXPOSE 10051
EXPOSE 10052
EXPOSE 10053
EXPOSE 10054
EXPOSE 10055
EXPOSE 10056
EXPOSE 10057
EXPOSE 10058
EXPOSE 10059
EXPOSE 10060
EXPOSE 10061
EXPOSE 10062
EXPOSE 10063
EXPOSE 10064
EXPOSE 10065
EXPOSE 10066
EXPOSE 10067
EXPOSE 10068
EXPOSE 10069
EXPOSE 10070
EXPOSE 10071
EXPOSE 10072
EXPOSE 10073
EXPOSE 10074
EXPOSE 10075
EXPOSE 10076
EXPOSE 10077
EXPOSE 10078
EXPOSE 10079
EXPOSE 10080
EXPOSE 10081
EXPOSE 10082
EXPOSE 10083
EXPOSE 10084
EXPOSE 10085
EXPOSE 10086
EXPOSE 10087
EXPOSE 10088
EXPOSE 10089
EXPOSE 10090
EXPOSE 10091
EXPOSE 10092
EXPOSE 10093
EXPOSE 10094
EXPOSE 10095
EXPOSE 10096
EXPOSE 10097
EXPOSE 10098
EXPOSE 10099
EXPOSE 10100

WORKDIR /

ENTRYPOINT ["bash", "entrypoint.sh"]
